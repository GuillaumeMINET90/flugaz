{% extends 'base.html.twig' %}

{% block title %}RecoveryContainers index{% endblock %}

{% block body %}
<div class="container mx-auto px-4">

    <div class="grid w-full justify-center mt-24">
        <h1 class="text-2xl text-gray-800 font-bold uppercase m-4 ">
            Choisir une bouteille
        </h1>
    </div>
  

        {% for rc in recoveryContainers %}
            <div class="flex m-4 flex-row  justify-center ">
                <div class="flew  p-6 rounded-lg shadow-lg bg-slate-50 w-full">
                    <div class="flex flex-col space-y-2 float-left ">
                        <h5 class="text-gray-900 text-xl leading-tight font-medium mb-4 w-80"> <span class="font-bold">{{rc.gaz}}</span> &emsp;&emsp; N° {{rc.number}} </h5>
                            <p class="text-gray-700 text-base mb-4 w-80">
                                {% set val = 0 %}
                                    {% for vr in volumeRecovered %}
                                            {% if rc.id == vr.container %}
                                                {% set val = val + vr.totalQ %} 
                                            {% endif %}
                                    {% endfor %}
                                <i> Quantité chargée:</i> <span class="font-bold">{{val}} / {{rc.totalWeight}} </span> kg   
                            </p>
                    </div>
                    <div class="flex space-x-16 float-right">
                    {% if val > 2 %}
                        <button type="button" onclick="window.location.href = '{{path('app_recovery_containers_edit', {id:rc.id})}}'" class="float-right mt-6 inline-block px-3 py-2 border-2 border-orange-600 text-orange-600 font-medium text-xs leading-tight uppercase rounded-full hover:bg-black hover:bg-opacity-5 transition duration-150 ease-in-out">
                            <i class="bi bi-truck text-xl"></i>
                        </button>
                    {% endif %}
                        <button type="button" onclick="window.location.href = '{{path('app_recovery_containers_movements_index', {id:rc.id})}}'" class="float-right mt-6 inline-block px-3 py-2 border-2 border-gray-900 text-slate-900 font-medium text-xs leading-tight uppercase rounded-full hover:bg-black hover:bg-opacity-5 transition duration-150 ease-in-out">
                            <i class="bi bi-table text-xl"></i>
                        </button>
                        <button type="button" onclick="window.location.href = '{{path('app_recovery_containers_movements_new', {id:rc.id})}}'" class="float-right mt-6 inline-block px-3 py-2 border-2 border-lime-700 text-lime-700 font-medium text-xs leading-tight uppercase rounded-full hover:bg-black hover:bg-opacity-5 transition duration-150 ease-in-out">
                            <i class="bi bi-pencil-fill text-xl"></i>
                        </button>
                    </div> 
                </div>
            </div>
        {% else %}
            <div class="flex m-4 flex-row  justify-center ">
                <p class="text-gray-700 p-4 border-y-4 border-gray-200 font-bold text-base mt-12 ">
                    Aucune bouteille de fluide en stock  
                </p>
            </div>
        {% endfor %}


</div>

   
{% endblock %}
